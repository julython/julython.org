{% extends "base.html" %}

{% load i18n %}

{% block content %}
    <div class="container">
      <div class="row">
        <div class="span12">
          <h1 id="logo">{% trans "Julython" %} {% now "Y" %}</h1>
        </div>
      </div>
      
      <div class="row">
        <div class="span6 offset3 large-notice">
          <a href="http://julython.spreadshirt.com" class="tshirt">
            {% trans "Support Julython. Buy a shirt." %}
          </a>
        </div>
      </div>
    {# Teaser #}
    </div>

    <div class="gray-container" id="navigation">
      <div class="container">
        <div class="row">
          <div class="span12 sticky" id="sticky-bar">
            <button class="what-is-this">{% trans "What is This?" %}</button>
            <button class="participating">{% trans "Participating" %}</button>
            <button class="the-rules">{% trans "The Rules" %}</button>
            <button class="teaming-up">{% trans "Teaming Up" %}</button>
            <button class="spread-the-word">{% trans "Spread The Word" %}</button>
          </div>
        </div>
      </div>
    </div>
    
    <div class="container section-container no-border">
      <div class="row">
        <div class="span12">
          <div class="row">
            <div class="span12">
              <h2 class="what-is-this">{% trans "Why are you people making up words?" %}</h2>
            </div>
          </div>
          <div class="row">
            <div class="span4 section-blurb">
              <h3>{% trans "We all have those Python projects..." %}</h3>
              <p>{% trans "You know, the ones that have been sitting on our hard drives collecting dust, with perhaps a few __init__.py files and maybe a TODO. But being busy people, we're content to just promise at some point we'll make time to work on it..." %}</p>
            </div>
            <div class="span4 section-blurb">
              <h3>{% trans "So make the time." %}</h3>
              <p>{% trans "This year, during the <a href='/help/#times'>months of January and July</a>, we're encouraging developers of all skill levels to try and work on your pet project(s) just a little each day. It's a great excuse to contribute to the communities you follow, or even dive into the language for the first time!" %}</p>
            </div>
            <div class="span4 section-blurb">
              <img src="{{ STATIC_URL }}images/welcome_to_julython.png"/>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container section-container no-border">
      <div class="row">
        <div class="span4">
          <div class="row">
            <div class="span4 section-blurb">
              <img src="{{ STATIC_URL }}images/spinning_snake.png"/>
            </div>
          </div>
        </div>
        
        <div class="span8">
          <div class="row">
            <div class="span8">
              <h2 class="participating">{% trans "I'm interested. How do I make this happen?" %}</h2>
            </div>
          </div>
          <div class="row">
            <div class="span4 section-blurb">
              <h3>{% trans "It's totally up to you." %}</h3>
              <p>{% trans "What you do during Julython is ultimately up to you. Been hankerin' to play with ZeroMQ, NumPy or Riak? Now's your chance. Have a Django or Tornado web app you've always wanted to build? <a href='/help/#get-started'>Go hog wild</a>." %}</p>
            </div>
            <div class="span4 section-blurb">
              <h3>{% trans "However, it's good to share." %}</h3>
              <p>{% trans "We recommend you work on something open, perhaps on GitHub or Bitbucket, so that others can see your progress. Then <a href='/help/#webhook'>add a webhook</a> for your repository, and we'll track your progress next to everyone else!" %}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    
    
    <div class="container section-container no-border">
      <div class="row">
        <div class="span12">
          <div class="row">
            <div class="span12">
              <h2 class="the-rules">{% trans "What are the rules?" %}</h2>
            </div>
          </div>
          <div class="row">
            <div class="span4 section-blurb">
              <h3>{% trans "There are no rules!" %}</h3>
              <p>{% trans "Okay, just one rule, it has to be a Python project. Of course you can work on some javascript to make you web apps. But, the heart of the project should be Python. Of course we wont check every commit (or maybe none at all) so you could do anything you want." %}</p>
            </div>
            <div class="span4 section-blurb">
              <h3>{% trans "Whats in it for me?" %}</h3>
              <p>{% trans "Fame and fortune! The goal is that you either learn something new or meet someone who is also interested in similar Python tools. If you share your repository or your commits with us, we will <a href='/help/#points'>tally up points</a> for each commit or new project you work on." %}</p>
            </div>
            <div class="span4 section-blurb">
              <h3>{% trans "Can I work on an existing project?" %}</h3>
              <p>{% trans "Yes! But you will only get 'credit' for commits <a href='/help/#times'>within the months of January or July</a>. You should consider forking an existing project if you are not the owner and register that fork." %}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    
    
    <div class="container section-container no-border">
      <div class="row">
        <div class="span12">
          <div class="row">
            <div class="span12">
              <h2 class="teaming-up">{% trans "Joining Forces" %}</h2>
            </div>
          </div>
          <div class="row">
            <div class="span4 section-blurb">
              <h3>{% trans "Local is in" %}</h3>
              <p>{% trans "We encourage everyone to team up, our goal is to have meetups organically created in cites across the country. There should be participants meeting in a coffee shop or bar near you. We'll have a way to post a meeting and location and you can search for something close by." %}</p>
            </div>
            <div class="span4 section-blurb">
              <h3>{% trans "Cities against cities" %}</h3>
              <p>{% trans "So you think your city has the most committed Python programmers? Be sure to sign up to have your commits go toward your home town. We will see <a href='/location/'>which cities are the most committed</a>." %}</p>
            </div>
            <div class="span4 section-blurb">
              <h3>{% trans "Frameworks against Frameworks" %}</h3>
              <p>{% trans "Already work on some fancy web framework? Be sure to fork the project and <a href='/help/#webhook'>add a webhook</a>. At the end we will add up all the points and award them to the parent project, then we'll see how well each project ranks against others. A dance-off will decide the winners in the event of a tie." %}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="container section-container no-border">
      <div class="row">
        <div class="span12">
          <div class="row">
            <div class="span8">
              <h2 class="spread-the-word">{% blocktrans %}<span id="commit-total">{{ total }}</span> commits during {{ game }}!{% endblocktrans %}</h2>
              <div id="user-barchart"
                class="commit-chart hidden-phone"
                data-chart="barchart"
                data-chartid="global">
              </div>
            </div>
            <div class="span4">
              <h2 class="participating"><a href="">{% trans "What's Happening?" %}</a></h2>
              <ul class="message-list" id="live-messages" data-bind="foreach: commits, event: {scroll: scrolled}">
              	<li class="message">
              		<div class="media">
              		  <a class="thumbnail pull-left" data-bind="visible: picture_url, attr: {href: '/' + username() +'/'}">        			
		            	<img class="media-object" data-bind="attr: {src: picture_url, alt: username}" />
	            	  </a>
	            	  <div class="media-body">
	            	  	<h4 class="media-heading"><span data-bind="timeago: timestamp"></span> &mdash; <a data-bind="text: project_name, attr: {href: project_url}"></a></h4>
	            		<strong data-bind="text: message().substring(0, 100)"></strong>
	            		<p class="hash">
	                      	<a data-bind="visible: username, text: username, attr: {href: '/' + username() + '/' }"></a> <span data-bind="visible: username, text: '&mdash;'"></span>
	                      	<a data-bind="visible: url, attr:{href:url }"><span data-bind="text: hash().substring(0, 8)"></span></a>
	                      	<span data-bind="visible: !url(), text: hash().substring(0, 8)"></span>
	                      </p>
	              	  </div>
              		</div>
				</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container section-container no-border">
      <div class="row">
        <div class="span12">
          <div class="row">
            <div class="span12">
              <h2 class="spread-the-word">{% trans "Good News Travels Fast" %}</h2>
            </div>
          </div>
          <div class="row">
            <div class="span4 section-blurb">
              <h3>{% trans "Twitter" %}</h3>
              <p><a href="https://twitter.com/julython" class="twitter-follow-button" data-show-count="false">{% trans "Follow @julython" %}</a>
                  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></p>
            </div>
            <div class="span4 section-blurb">
              <h3>{% trans "Facebook" %}</h3>
              <p>{% trans "Like us on <a href='http://www.facebook.com/julython'>Facebook</a>" %}</p>
            </div>
            <div class="span4 section-blurb">
              <h3>{% trans "Github" %}</h3>
              <p>{% trans "We love sharing code, follow us on <a href='http://github.com/julython'>github</a>." %}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
{% endblock %}

{% block javascript %}
    {{ block.super }}
    <script type="text/javascript" src="http://live.julython.org/_ah/channel/jsapi"></script>
<script type="text/javascript">
  $(document).ready(function(){
    // navigation bar
    var nav = new Nav("#navigation", $("#topnav").height());
    nav.setup();
    nav.update();
    var win = $(window);
    win.scroll(function () { nav.update.apply(nav, arguments); });
    // charts!
    new Charts.BarChart("user-barchart")
      .load({{stats}})
      .set("xLabel", function(d, i) { return i+1; })
      .set("yLabel", function(d, i) { if (d) { return d; } else { return ""; } })
      .render();
    
    var view = new JULY.CommitsView();
	JULY.applyBindings(view, '#live-messages');
    //var channel = new julython.Channel($("#live-messages"), "{{ token }}", {
      //  maxMessages: 30,
      //  totalEl: "#commit-total",
     //   total: {{ total }}
    //});
    //channel.prepopulate("{{ messages|safe|addslashes }}");
  });
</script>
{% endblock %}

